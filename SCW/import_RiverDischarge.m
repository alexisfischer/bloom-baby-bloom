%% import discharge data
% Discharge (cubic feet per second)
% Gage height (feet)
% Date,  dn=datenum(TimeUTC,'yyyy-mm-dd HH:MM');

%% import temperature data
temp = ncread('http://west.rssoffice.com:8080/thredds/dodsC/roms/CA3km-nowcast/CA/ca_subCA_das_2018022509.nc','temp' );

%% plot Pajaro River discharge
figure('Units','inches','Position',[1 1 6 4],'PaperPositionMode','auto');
subplot = @(m,n,p) subtightplot (m, n, p, [0.07 0.07], [0.07 0.04], [0.12 0.03]);
%subplot = @(m,n,p) subtightplot(m,n,p,opt{:}); 
%where opt = {gap, width_h, width_w} describes the inner and outer spacings.

% discharge
subplot(2,1,1)
plot(dn,discharge,'r-','Linewidth',1);
    hold on
set(gca,'ylim',[0 10000],'ytick',0:2500:10000,...
        'xlim',[datenum('2016-08-01') datenum('2017-07-31')],...
        'xtick',[datenum('2016-08-01'),datenum('2016-09-01'),...
        datenum('2016-10-01'),datenum('2016-11-01'),...
        datenum('2016-12-01'),datenum('2017-01-01'),...
        datenum('2017-02-01'),datenum('2017-03-01'),...
        datenum('2017-04-01'),datenum('2017-05-01'),...
        datenum('2017-06-01'),datenum('2017-07-01')],...        
        'XTickLabel',{},...
        'fontsize',8,'XAxisLocation','bottom','TickDir','out'); 
        hold on
        ylabel('Discharge (ft^3 sec^-^1)','fontsize',9,'fontweight','bold');        
hold on

subplot(2,1,2);
plot(dn,gageheight,'b-','Linewidth',1);
    hold on
set(gca,'ylim',[0 30],'ytick',0:10:30,...
        'xlim',[datenum('2016-08-01') datenum('2017-07-31')],...
        'xtick',[datenum('2016-08-01'),datenum('2016-09-01'),...
        datenum('2016-10-01'),datenum('2016-11-01'),...
        datenum('2016-12-01'),datenum('2017-01-01'),...
        datenum('2017-02-01'),datenum('2017-03-01'),...
        datenum('2017-04-01'),datenum('2017-05-01'),...
        datenum('2017-06-01'),datenum('2017-07-01')],...        
        'XTickLabel',{'Aug','Sep',...
        'Oct','Nov','Dec','Jan17','Feb','Mar','Apr','May','Jun','Jul'},...
        'fontsize',8,'XAxisLocation','bottom','TickDir','out'); 
        hold on
        ylabel('Gage Height (ft)','fontsize',9,'fontweight','bold');        

% set figure parameters
set(gcf,'color','w');
print(gcf,'-dtiff','-r600','~/Documents/MATLAB/bloom-baby-bloom/SCW/Figs/PajaroDischarge_SCW_2016-2017.tif')
hold off 